<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">veLinux</title><meta data-react-helmet="true" property="og:title" content="veLinux"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="目录"><meta data-react-helmet="true" property="og:description" content="目录"><meta data-react-helmet="true" property="og:url" content="https://bytedance.github.io/kernel/release/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="icon" href="/kernel/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://bytedance.github.io/kernel/release/"><link data-react-helmet="true" rel="alternate" href="https://bytedance.github.io/kernel/release/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://bytedance.github.io/kernel/release/" hreflang="x-default"><link rel="stylesheet" href="/kernel/assets/css/styles.fec456bf.css">
<link rel="preload" href="/kernel/assets/js/runtime~main.ff3dc882.js" as="script">
<link rel="preload" href="/kernel/assets/js/main.6b23eef0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kernel/"><div class="navbar__logo"><img src="/kernel/img/favicon.ico" alt="veLinux Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/kernel/img/favicon.ico" alt="veLinux Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">veLinux</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/bytedance/kernel" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mdx-wrapper mdx-page"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_zHyg"><div class="col"><header class="hero hero--primary heroBanner_Vwkb"><div class="container"><h1 class="hero__title">发行说明</h1><p class="hero__subtitle">系统特性、优势与竞争力</p><div class="buttons_h4N4"><a class="button button--secondary button--lg" href="/kernel/">操作系统</a><a class="button button--secondary button--lg" href="/kernel/sec">安全中心</a><a class="button button--secondary button--lg" href="/kernel/release">发行说明</a><a href="https://github.com/bytedance/kernel" target="_blank" rel="noopener noreferrer" class="button button--secondary button--lg">GitHub</a></div></div></header><div class="content"><h1>发行说明</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="目录">目录<a class="hash-link" href="#目录" title="Direct link to heading">​</a></h2><ol><li><a href="#%E4%B8%80%E4%BC%98%E5%8A%BF%E4%B8%8E%E7%AB%9E%E4%BA%89%E5%8A%9B">优势与竞争力</a></li><li><a href="#%E4%BA%8C%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%80%A7">系统特性</a><ol><li><a href="#%E5%86%85%E6%A0%B8">内核</a></li><li><a href="#%E7%B3%BB%E7%BB%9F%E7%BB%84%E4%BB%B6">系统组件</a><ol><li><a href="#atop">atop</a></li><li><a href="#kdump-tools">kdump-tools</a></li><li><a href="#systemd">systemd</a></li><li><a href="#pciutils">pciutils</a></li><li><a href="#zlib">zlib</a></li></ol></li><li><a href="#%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96">配置优化</a></li></ol></li><li><a href="#%E4%B8%89%E5%B7%A5%E5%85%B7%E5%B9%B3%E5%8F%B0">工具平台</a></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="一优势与竞争力">一、优势与竞争力<a class="hash-link" href="#一优势与竞争力" title="Direct link to heading">​</a></h2><ul><li>运行在字节跳动数十万台机器上，支撑了海量业务、亿级并发，是字节跳动对操作系统的最佳实践。</li><li>对火山引擎公有云基础设施如服务器、网络、存储进行深度定制优化。</li><li>与Debian 10官方软件包保持兼容，发布节奏更快，能够及时修复漏洞、提供新功能。</li><li>提供字节定制优化的5.4内核和自研组件，包括基础库、工具链、监控工具、系统软件等。</li><li>提供内核热补丁和kdump能力</li><li>优化sysctl配置</li><li>由字节跳动提供系统维护和技术支持</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="二系统特性">二、系统特性<a class="hash-link" href="#二系统特性" title="Direct link to heading">​</a></h2><p>系统特性包含内核、系统组件、系统配置和优化等。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="内核">内核<a class="hash-link" href="#内核" title="Direct link to heading">​</a></h3><p>例如：</p><ul><li>优化冗余的HugeTLB页，降低内存开销</li><li>增加ebpf通用helper函数，支持通过模块添加ebpf功能</li><li>优化的cgroup slab memory controller</li><li>VDUSE设备模拟框架</li><li>PSI特性：针对cgroup级别的CPU stall增加了FULL模式，优化了memory stall FULL模式的实现和进程阻塞切换的开销</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="系统组件">系统组件<a class="hash-link" href="#系统组件" title="Direct link to heading">​</a></h3><p>字节跳动自研软件包</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="atop">atop<a class="hash-link" href="#atop" title="Direct link to heading">​</a></h4><p>atop是开源社区的一个性能监测工具，字节跳动在社区版本的基础上进行了定制开发，新增feature包括：</p><ul><li>支持筛选记录Top N线程的监控数据记录</li><li>支持JSON格式输出监控数据，提供多样化展示</li><li>避免crash后持续写旧文件导致无效写入</li><li>支持定制日志保留天数</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="kdump-tools">kdump-tools<a class="hash-link" href="#kdump-tools" title="Direct link to heading">​</a></h4><p>配合veLinux 5.4.56版本内核使用，内核发生kernel panic之时（硬件故障或内核软件issue）第一内核切换到第二内核，处理panic现场，记录关键信息。配合内核dbg包，支持gdb调试和追溯。
支持上报服务端，配合监控服务使用，提供内核panic的准实时监控报警功能。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="systemd">systemd<a class="hash-link" href="#systemd" title="Direct link to heading">​</a></h4><p>修复了journald重启时日志丢失的问题。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="pciutils">pciutils<a class="hash-link" href="#pciutils" title="Direct link to heading">​</a></h4><p>在社区3.5.2版本的基础上提供了正确读取和显示PCI Gen 4 16GT/s速率的支持。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="zlib">zlib<a class="hash-link" href="#zlib" title="Direct link to heading">​</a></h4><p>zlib是开源社区的一个无损压缩的基础库，字节跳动在社区版本madler/zlib上进行了一些性能优化。</p><ul><li>支持压缩过程中哈希函数的向量化指令，并且重构了字符串匹配的流程。</li><li>增强解压过程中长字符串拷贝效率</li><li>支持crc32/adler32等校验码的向量化指令</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="配置优化">配置优化<a class="hash-link" href="#配置优化" title="Direct link to heading">​</a></h3><p>基于字节海量业务场景，为了高并发、低时延等业务需求，对内存、文件系统、网络、安全等方面的系统配置进行了深度优化，在基准测试和典型应用性能对比中，veLinux相对社区版 Debian 10提升约15～25%，尤其在进程上下文切换、I/O读写、压缩与解压方面有显著优势。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="三工具平台">三、工具平台<a class="hash-link" href="#三工具平台" title="Direct link to heading">​</a></h2><p><strong>热补丁管理平台（内测中）</strong></p><p>提供补丁信息查询/通知/部署平台、补丁客户端的整套解决方案，目前平台正在内测中。</p></div></div></div></main></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 veLinux, Bytedance, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/kernel/assets/js/runtime~main.ff3dc882.js"></script>
<script src="/kernel/assets/js/main.6b23eef0.js"></script>
</body>
</html>